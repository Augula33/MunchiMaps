<!DOCTYPE html>
<html>
<head>
  <link rel="icon" type="image/x-icon" href="https://github.com/mike-cautela/MunchiMaps/blob/main/MunchiMaps%20Assets/CookieFavicon.png?raw=true">
 
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link id = 'dark-mode' rel="stylesheet" href="dark.css" />
  <link id = 'light-mode'rel="stylesheet" href="MunchiMaps_stylesheet.css" />
  <link rel="stylesheet" href="Location_Style_Sheet.css" />
  <link rel="stylesheet" href="loading_animation_stylesheet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="script.js" ></script>

  
</head>
<body>
  <div class="logo-title">
    <img src="https://github.com/mike-cautela/MunchiMaps/blob/main/MunchiMaps%20Assets/MunchiMaps%20Logos/MunchiMapsCroppedLogo.png?raw=true" alt="MunchiMaps">
  </div>
   
  <div id="map-container">
    <div id="map"></div>
  </div>

  <!-- Add the help button -->
<div class="help-button" onclick="openHelp()">
  <img src="https://raw.githubusercontent.com/mike-cautela/MunchiMaps/main/MunchiMaps%20Assets/MenuIcons/help-circle-grey.svg" alt="Help" class="help-button-img">
</div>

<div id="help-popup" class="help-popup">
  <div class="help-content">
      <span class="close" onclick="closeHelp()">&times;</span>
      <h2>How to Use MunchiMaps:</h2>
      <p>Look at the MunchiMap to find the nearest Vending Machine near you!</p>
      <p>Make sure to check to see if the machine sells Snacks and/or drinks</p>

      <h3>Button Icons:</h3>
      <div class="icons-description">
          <div class="icon-item">
              <svg class="help-icon" id="search_icon" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45.79 40.21">
                  <defs>
                      <style>
                          .cls-1 {
                              fill: none;
                              stroke: #626262;
                              stroke-linecap: round;
                              stroke-linejoin: round;
                              stroke-width: 4px;
                          }
                      </style>
                  </defs>
                  <path class="cls-1" d="M19.48,3.93L2.54,32.21c-1.1,1.91-.45,4.36,1.46,5.46.6.34,1.27.53,1.96.54h33.88c2.21-.02,3.98-1.83,3.96-4.04,0-.69-.19-1.36-.54-1.96L26.32,3.93c-1.15-1.89-3.61-2.49-5.49-1.35-.55.33-1.01.8-1.35,1.35Z"/>
                  <line class="cls-1" x1="22.9" y1="14.21" x2="22.9" y2="22.21"/>
                  <line class="cls-1" x1="22.9" y1="30.21" x2="22.92" y2="30.21"/>
              </svg>
              <span>Search Icon Description</span>
          </div>
          <div class="icon-item">
              <svg class="help-icon" id="helppic" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45.79 40.21">
                  <defs>
                      <style>
                          .cls-1 {
                              fill: none;
                              stroke: #626262;
                              stroke-linecap: round;
                              stroke-linejoin: round;
                              stroke-width: 4px;
                          }
                      </style>
                  </defs>
                  <path class="cls-1" d="M19.48,3.93L2.54,32.21c-1.1,1.91-.45,4.36,1.46,5.46.6.34,1.27.53,1.96.54h33.88c2.21-.02,3.98-1.83,3.96-4.04,0-.69-.19-1.36-.54-1.96L26.32,3.93c-1.15-1.89-3.61-2.49-5.49-1.35-.55.33-1.01.8-1.35,1.35Z"/>
                  <line class="cls-1" x1="22.9" y1="14.21" x2="22.9" y2="22.21"/>
                  <line class="cls-1" x1="22.9" y1="30.21" x2="22.92" y2="30.21"/>
              </svg>
              <span>Help Icon Description</span>
          </div>
      </div>
  </div>
</div>

    <div id="popup-search" class="popup-container">
    <div class="popup">
        <div class = "search-bar">
          <input type ="search" id="searchInput">
          <div id="searchResult" class="result"></div>
        </div>
        <script>
          //Temporary buildings list 
          var buildings = [
                  {name: 'Folsom Library', drink: true, food: true},
                  {name: 'Sharp Hall', drink: true, food: true},
                  {name: 'Rensselaer Student Union', drink: true, food: true},
                  {name: 'Quadrangle Complex', drink: true, food: false},
                  {name: 'Darrin Communication Center', drink: true, food: true},
                  {name: 'Woorhees Computing Center', drink: true, food: true},
                  {name: 'Amos Eaton Hall', drink: true, food: false},
                  {name: 'Mueller Center', drink: true, food: true},
                  {name: 'J Erik Jonsson Engineering Center', drink: true, food: true},
                  {name: 'Russell Sage Laboratory', drink: true, food: true},
                  {name: 'Jonsson-Rowland Science Center', drink: true, food: true},
                  {name: 'Pittsburgh Building', drink: true, food: true},
                  {name: 'Warren Hall', drink: true, food: false},
                  {name: 'Greene Building', drink: true, food: true},
                  {name: 'Davison Hall', drink: true, food: false},
                  {name: 'RPI Public Safety', drink: true, food: false},
                  {name: 'North Hall', drink: true, food: true},
                  {name: 'West Hall', drink: true, food: false}
          ];
          
          //Building sort
          buildings.sort((a, b) => a.name.toLowerCase().localeCompare(b.name.toLowerCase()));
          console.log(buildings);
        
          //Search function 
          function search(){
              var searchTerm = document.getElementById('searchInput').value.trim().toLowerCase();
              var filtered = [];
  
              buildings.forEach(function(building){
                  if(filter(building, searchTerm)){
                      filtered.push(building);
                  }
              });
  
              displayResults(filtered);
          }
  
          //Filter through the list
          function filter(item, searchTerm){
              return item.name.toLowerCase().startsWith(searchTerm);
          }
  
          //Display results
          function displayResults(results){
              var resultContainer = document.getElementById('searchResult');
              resultContainer.innerHTML = '';
              
              if (results.length > 0) {
                  var resultList = document.createElement('ul');
                  
                  results.forEach(function(item) {
                      var listItem = document.createElement('li');
                      listItem.textContent = item.name;
                      resultList.appendChild(listItem);
                  });
                  
                  resultContainer.appendChild(resultList);
              } 
              else {
                  resultContainer.textContent = 'No results found';
              }
          }
  
          document.getElementById('searchInput').addEventListener('input', search);
        </script>
        <div class="popup-close" onclick="closePopup('Search')">X</div>
    </div>
  </div>
  
<div id="popup-report" class="popup-container">
  <div class="popup">
    <div class="popup-header">
      <h2>Report Issue</h2>
      <span class="popup-close" onclick="closePopup('Report')">&times;</span>
    </div>
    <form id="reportForm" class="popup-form">
      <div class="form-group">
        <label for="reportTitle">Title:</label>
        <input type="text" id="reportTitle" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="reportDescription">Description:</label>
        <textarea id="reportDescription" class="form-control" required></textarea>
      </div>
      <button type="submit" class="btn-submit">Submit</button>
      <button type="fixx" class="btn-fixx">Fixx</button>

    </form>
  </div>
</div>

  <div id="popup-review" class="popup-container">
    <div class="popup">
      <div>Review</div>
      <div class="popup-close" onclick="closePopup('Review')">X</div>
    </div>
  </div>
    
  <script>

  </script>

   <div id="buttons-container">
    <!---- Contains all buttons at bottom of screen -->
    <!---- NOTE: Button icons don't really work with dark mode colors, change later -->
      <button class="button" onclick="openPopup('Search')">
        <img src="https://raw.githubusercontent.com/mike-cautela/MunchiMaps/main/MunchiMaps%20Assets/MenuIcons/search-grey.svg" alt="Search" class="button-img">
      </button>
      
      <button class="button" onclick="openPopup('Report')">
         <img src="https://raw.githubusercontent.com/mike-cautela/MunchiMaps/main/MunchiMaps%20Assets/MenuIcons/alert-triangle-grey.svg" alt="Report" class="button-img">
      </button>
      <button class="button" onclick="openPopup('Review')">
         <img src="https://raw.githubusercontent.com/mike-cautela/MunchiMaps/main/MunchiMaps%20Assets/MenuIcons/smile-grey.svg" alt="Review" class="button-img">
      </button>
      <button class="button" id="Location">
         <img src="https://raw.githubusercontent.com/mike-cautela/MunchiMaps/main/MunchiMaps%20Assets/MenuIcons/crosshair-grey.svg" alt="Location" class="button-img">
      </button>
    </div>
</body>
</html>

